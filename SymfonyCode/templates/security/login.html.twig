{% extends 'base.html.twig' %}
{% block body %}

<section class="sub-header">
    <nav>
        <a href="/home"><img src="images/4bois1.jpeg"></a>
        <div class="nav-links" id="nav-links">
            <i class="fa fa-times" onclick="hideMenu()"></i>
            <ul>
                <li class="dropdown">
                    <a href="/home">ACCUEIL</a>
                </li>
                <li><a href="/aboutUs">À PROPOS</a></li>
                <li><a href="/products">PRODUITS</a></li>
                <li><a href="/panier">PANIER</a></li>
                <li><a href="/contactUs">CONTACT</a></li>

                {% if app.user %}
                    <li class="nav-item">
                        <span class="nav-link"><i class="bi bi-person-circle me-1"></i>{{ app.user.username }}</span> 
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/logout"><i class="bi bi-box-arrow-right me-1"></i>DÉCONNEXION</a>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="/login"><i class="bi bi-box-arrow-in-right me-1"></i>CONNEXION</a>
                    </li>
                {% endif %}
            </ul>
        </div>
        <i class="fa fa-bars" onclick="showMenu()"></i>
    </nav>
</section>


<div class="form-wrapper">
<form class="form-login" method="post"  style="display: flex; justify-content: center; align-items: center;height: 60vh;">
    <div>
        <h2 style="color: rgba(0, 18, 119, 0.97)">Connexion</h2>

        {% if error %}
            <div class="alert alert-danger">Identifiants incorrects.</div>
        {% endif %}

        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

        <label for="username">Nom d'utilisateur :</label>
        <input type="text" name="_username" id="username" class="form-control" value="{{ last_username }}" required>

        <label for="password">Mot de passe :</label>
        <input type="password" name="_password" id="password" class="form-control" required>

        <button class="btn btn-lg btn-primary" type="submit">Se connecter</button>

        <p class="mt-3">Pas encore inscrit ?
            <a href="register" class="btn-link">Inscrivez-vous!</a>
        </p>
    </div>
</form>
</div>

<style>
.sub-header {
    position: relative; /* Nécessaire pour le positionnement absolu des enfants */
    width: 100%;
    height: 94.1vh; /* Prend toute la hauteur de l'écran */
    background-image: linear-gradient(rgba(4, 9, 30, 0.533), rgba(4, 9, 30, 0.188)), url(images/4bois24.jpeg);
    background-position: center;
    background-size: cover;
    text-align: center;
    color: #fff;
}

.sub-header nav {
    position: relative;
    z-index: 100; /* Assure que la navbar est au-dessus */
    background: transparent; /* Fond transparent pour la navbar */
}

.form-wrapper {
    position: absolute;
    top: 60%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    max-width: 500px;
    z-index: 10;
}

.form-login {
    background: white;
    padding: 30px;
    border-radius: 10px;
}

.form-control {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
}

</style>

{% endblock %}
